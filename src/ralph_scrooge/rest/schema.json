{
    "swagger": "2.0",
    "info": {
        "title": "Scrooge API",
        "version": ""
    },
    "basePath": "/scrooge/api",
    "definitions": {
        "Division": {
            "type": "object",
            "required": [
                "service_uid",
                "environment",
                "percent"
            ],
            "properties": {
                "service_uid": {
                    "type": "string"
                },
                "environment": {
                    "type": "string"
                },
                "percent": {
                    "type": "number"
                }
            }
        },
        "Divisions": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/Division"
            }
        }
    },
    "paths": {
        "/scrooge/api/v0.10/service-environment-costs/": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "description": "Fetch daily costs for given service/environment aggregated over given time period",
                "operationId": "service-environment-costs_create",
                "parameters": [
                    {
                        "in": "body",
                        "name": "data",
                        "schema": {
                            "properties": {
                                "date_from": {
                                    "description": "",
                                    "type": "string"
                                },
                                "date_to": {
                                    "description": "",
                                    "type": "string"
                                },
                                "environment": {
                                    "description": "",
                                    "type": "string"
                                },
                                "forecast": {
                                    "description": "",
                                    "type": "boolean"
                                },
                                "group_by": {
                                    "description": "",
                                    "type": "string"
                                },
                                "service_uid": {
                                    "description": "",
                                    "type": "string"
                                },
                                "types": {
                                    "description": "",
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "required": [
                                "service_uid",
                                "environment",
                                "date_from",
                                "date_to",
                                "group_by"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": ""
                    }
                },
                "summary": "Fetch daily costs for given service/environment aggregated over given time period",
                "tags": [
                    "v0.10"
                ]
            }
        },
        "/scrooge/api/v0.10/usage-types/": {
            "get": {
                "description": "Fetch all usage types",
                "operationId": "usage-types_list",
                "parameters": [
                    {
                        "description": "",
                        "in": "query",
                        "name": "page",
                        "required": false,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "summary": "Fetch all usage types",
                "tags": [
                    "v0.10"
                ]
            }
        },
        "/scrooge/api/v0.10/usage-types/{symbol}/": {
            "get": {
                "description": "Fetch usage type given by 'symbol'",
                "operationId": "usage-types_read",
                "parameters": [
                    {
                        "description": "",
                        "in": "path",
                        "name": "symbol",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "summary": "Fetch usage type given by 'symbol'",
                "tags": [
                    "v0.10"
                ]
            }
        },
        "/scrooge/api/v0.9/api-token-auth/": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "description": "Fetch your personal API key",
                "operationId": "api-token-auth_create",
                "parameters": [
                    {
                        "in": "body",
                        "name": "data",
                        "schema": {
                            "properties": {
                                "password": {
                                    "description": "",
                                    "type": "string"
                                },
                                "username": {
                                    "description": "",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "username",
                                "password"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": ""
                    }
                },
                "summary": "Fetch your personal API key",
                "tags": [
                    "v0.9"
                ]
            }
        },
        "/scrooge/api/v0.9/pricingserviceusages/": {
            "post": {
                "consumes": [
                    "application/json"
                ],
                "description": "Upload usages for given pricing service and date",
                "operationId": "pricingserviceusages_create",
                "parameters": [
                    {
                        "in": "body",
                        "name": "data",
                        "schema": {
                            "properties": {
                                "date": {
                                    "description": "",
                                    "type": "string"
                                },
                                "ignore_unknown_services": {
                                    "description": "",
                                    "type": "boolean"
                                },
                                "overwrite": {
                                    "description": "",
                                    "type": "string"
                                },
                                "pricing_service": {
                                    "description": "",
                                    "type": "string"
                                },
                                "usages": {
                                    "description": "",
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "required": [
                                "pricing_service",
                                "date",
                                "usages"
                            ],
                            "type": "object"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": ""
                    }
                },
                "summary": "Upload usages for given pricing service and date",
                "tags": [
                    "v0.9"
                ]
            }
        },
        "/scrooge/api/v0.9/pricingserviceusages/{pricing_service_id}/{usages_date}/": {
            "get": {
                "description": "Fetch previously uploaded usages for given pricing service and date",
                "operationId": "pricingserviceusages_read",
                "parameters": [
                    {
                        "description": "",
                        "in": "path",
                        "name": "pricing_service_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "",
                        "in": "path",
                        "name": "usages_date",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "summary": "Fetch previously uploaded usages for given pricing service and date",
                "tags": [
                    "v0.9"
                ]
            }
        },
        "/scrooge/api/v0.9/teamtimedivision/{team_id}/{year}/{month}/": {
            "get": {
                "description": "Fetch time divisions uploaded for given team and month",
                "operationId": "teamtimedivision_read",
                "parameters": [
                    {
                        "description": "",
                        "in": "path",
                        "name": "team_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "",
                        "in": "path",
                        "name": "year",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "",
                        "in": "path",
                        "name": "month",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": ""
                    }
                },
                "summary": "Fetch time divisions uploaded for given team and month",
                "tags": [
                    "v0.9"
                ]
            },
            "post": {
                "consumes": [
                    "application/json"
                ],
                "description": "Allocate team's working time (and therefore costs) to some services",
                "operationId": "teamtimedivision_create",
                "parameters": [
                    {
                        "description": "",
                        "in": "path",
                        "name": "team_id",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "",
                        "in": "path",
                        "name": "year",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "",
                        "in": "path",
                        "name": "month",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "description": "",
                        "in": "body",
                        "name": "division",
                        "schema": {
                            "$ref": "#/definitions/Divisions"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": ""
                    }
                },
                "summary": "Allocate team's working time (and therefore costs) to some services",
                "tags": [
                    "v0.9"
                ]
            }
        }
    }
}