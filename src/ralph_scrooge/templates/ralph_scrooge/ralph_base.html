<!DOCTYPE html>
{% load url from future %}
{% load i18n staticfiles %}
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ralph | {% block title %}{% block titlesection %}{{ active_menu.module.label }}{% block titlesubsection %}{% endblock %} - {{ active_submodule|title }}{% endblock %}{% endblock %}</title>
        {% block styles %}
            <link rel="stylesheet" href="{% static 'scrooge/css/bootstrap.min.css' %}">
            <link rel="stylesheet" href="{% static 'scrooge/css/bs3fake.css' %}">
            <link rel="stylesheet" href="{% static 'scrooge/css/custom.css' %}">
            <link rel="stylesheet" href="{% static 'scrooge/css/datepicker.css' %}">
            <link rel="stylesheet" href="{% static 'scrooge/css/jquery-ui.css' %}">
        {% endblock %}
        {% if TRACKING_CODE %}{{ TRACKING_CODE|safe }}{% endif %}
        {% block scripts %}
            <script src="{% static 'scrooge/js/jquery.min.js' %}"></script>
            <script src="{% static 'scrooge/js/require.js' %}"></script>
            <!-- Use require.js' for mustache! -->
            <script type="text/javascript">
                requirejs.config({
                    baseUrl: '{{ STATIC_URL }}scrooge/',
                    paths: {
                        'jquery': '{% static 'scrooge/js/jquery.min.js' %}',
                        'bootstrap': '{% static 'scrooge/js/bootstrap/js/bootstrap.js' %}',
                        'bootstrap-datepicker': '{% static 'scrooge/js/bootstrap/js/bootstrap-datepicker.js' %}',
                        'mustache': '{% static 'scrooge/js/mustache.js' %}',
                        'jquery-ui': '{% static 'scrooge/js/jquery-ui.js' %}',
                    },
                    shim: {
                        'bootstrap': {
                            'deps': ['jquery']
                        },
                        'bootstrap-datepicker': {
                            'deps': ['bootstrap']
                        },
                        'mobile-app': {
                            'deps': ['jquery']
                        },
                        'menu': {
                            'deps': ['jquery']
                        },
                        'ui.multiselect': {
                            'deps': [
                                'jquery',
                                'jquery-ui',
                                'jqGrid-locale'
                            ]
                        },
                        'jqGrid': {
                            'deps': [
                                'jquery',
                                'jquery-ui',
                                'ui.multiselect',
                                'jqGrid-locale'
                            ]
                        },
                        'jqGrid-locale': {
                            'deps': [
                                'jquery',
                                'jquery-ui'
                            ]
                        },
                    }
                });
            </script>
        {% endblock %}
        {% block extra_headers %}{% endblock %}
    </head>
    <body>
        {% include 'ui/menu_extras.html' %}
        <div class="container-fluid browser-min-width">
            <div class="row-fluid">
                <div class="span12 hidden-phone">
                    {{ view }}
                </div>
                <div class="row-fluid main-body{% if not submodules %} without-submodules{%  else %} with-submodules{% endif %}">

                    <div class="{% block content_span %}span10{% endblock %}">
                        {% if messages %}
                            <div class="row-fluid">
                                <div class="span12 alerts">
                                    {% block alerts %}
                                        {% for message in messages %}
                                            <div class="alert alert-{{ message.tags }} fade in">
                                                <a class="close" data-dismiss="alert" href="#">&times;</a>
                                                <p>{{ message.tags }} {{ message }}</p>
                                            </div>
                                        {% endfor %}
                                    {% endblock %}
                                </div>
                            </div>
                        {% endif %}
                        {% block breadcrumbs %}{% endblock %}
                        {% block tabs %}{% endblock %}
                        <div class="row-fluid">
                            {% block contentarea %}
                                {% block content %}{% endblock %}
                            {% endblock %}
                        </div>
                    </div>
                </div>
                <footer class="row-fluid base">
                    <div class="span12">
                        <ul class="pull-left">
                            <li>Ralph {{ VERSION }}</li>
                            <li><a href="{{ CHANGELOG_URL }}">{% trans 'Changes' %}</a></li>
                        </ul>
                        <ul class="pull-right">
                            <li>
                                <a href="{{ BUGTRACKER_URL }}">
                                <i class="fugue-icon fugue-bug"></i>{% trans 'Report a bug' %}</a>
                            </li>
                        </ul>
                    </div>
                </footer>
            </div>
        </div>
        {% block extra_js %}{% endblock %}
    </body>
</html>
<!--STATS-->
