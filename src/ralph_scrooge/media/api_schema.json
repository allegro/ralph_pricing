{"info": {"version": "", "title": "Scrooge API"}, "paths": {"/v0.9/teamtimedivision/{team_id}/{year}/{month}/": {"post": {"responses": {"201": {"description": ""}}, "parameters": [{"required": true, "type": "string", "description": "", "in": "path", "name": "team_id"}, {"required": true, "type": "string", "description": "", "in": "path", "name": "year"}, {"required": true, "type": "string", "description": "", "in": "path", "name": "month"}, {"required": true, "in": "body", "description": "", "name": "payload", "schema": {"$ref": "#/definitions/Divisions"}}], "tags": ["v0.9"], "operationId": "teamtimedivision_create", "summary": "Allocate team's working time (and therefore costs) to some services", "consumes": ["application/json"], "description": "Allocate team's working time (and therefore costs) to some services"}, "get": {"responses": {"200": {"description": ""}}, "parameters": [{"required": true, "type": "string", "description": "", "in": "path", "name": "team_id"}, {"required": true, "type": "string", "description": "", "in": "path", "name": "year"}, {"required": true, "type": "string", "description": "", "in": "path", "name": "month"}], "tags": ["v0.9"], "operationId": "teamtimedivision_read", "summary": "Fetch time divisions uploaded for given team and month", "description": "Fetch time divisions uploaded for given team and month"}}, "/v0.10/service-environment-costs/": {"post": {"responses": {"201": {"description": ""}}, "parameters": [{"required": true, "in": "body", "name": "payload", "schema": {"required": ["service_uid", "environment", "date_from", "date_to", "group_by"], "type": "object", "properties": {"environment": {"type": "string", "description": ""}, "service_uid": {"type": "string", "description": ""}, "group_by": {"type": "string", "description": ""}, "date_to": {"type": "string", "description": ""}, "date_from": {"type": "string", "description": ""}, "types": {"items": {"type": "string"}, "type": "array", "description": ""}, "forecast": {"type": "boolean", "description": ""}}}}], "tags": ["v0.10"], "description": "Fetch daily costs for given service/environment aggregated over given time period", "operationId": "service-environment-costs_create", "consumes": ["application/json"], "summary": "Fetch daily costs for given service/environment aggregated over given time period"}}, "/v0.9/api-token-auth/": {"post": {"responses": {"201": {"description": ""}}, "parameters": [{"required": true, "in": "body", "name": "payload", "schema": {"$ref": "#/definitions/Credentials"}}], "tags": ["v0.9"], "operationId": "api-token-auth_create", "summary": "Fetch your personal API key", "consumes": ["application/json"], "description": "Fetch your personal API key"}}, "/v0.10/usage-types/": {"get": {"responses": {"200": {"description": ""}}, "parameters": [{"required": false, "type": "string", "description": "", "in": "query", "name": "page"}], "tags": ["v0.10"], "operationId": "usage-types_list", "summary": "Fetch all usage types", "description": "Fetch all usage types"}}, "/v0.10/usage-types/{symbol}/": {"get": {"responses": {"200": {"description": ""}}, "parameters": [{"required": true, "type": "string", "description": "", "in": "path", "name": "symbol"}], "tags": ["v0.10"], "operationId": "usage-types_read", "summary": "Fetch usage type given by 'symbol'", "description": "Fetch usage type given by 'symbol'"}}, "/v0.9/pricingserviceusages/": {"post": {"responses": {"201": {"description": ""}}, "parameters": [{"required": true, "in": "body", "name": "payload", "schema": {"$ref": "#/definitions/Usage"}}], "tags": ["v0.9"], "operationId": "pricingserviceusages_create", "summary": "Upload usages for given pricing service and date", "consumes": ["application/json"], "description": "Upload usages for given pricing service and date"}}, "/v0.9/pricingserviceusages/{pricing_service_id}/{usages_date}/": {"get": {"responses": {"200": {"description": ""}}, "parameters": [{"required": true, "type": "string", "description": "", "in": "path", "name": "pricing_service_id"}, {"required": true, "type": "string", "description": "", "in": "path", "name": "usages_date"}], "tags": ["v0.9"], "operationId": "pricingserviceusages_read", "summary": "Fetch previously uploaded usages for given pricing service and date", "description": "Fetch previously uploaded usages for given pricing service and date"}}}, "schemes": ["http", "https"], "basePath": "/scrooge/api", "securityDefinitions": {"Token": {"in": "header", "type": "apiKey", "description": "should be given as e.g. \"Token 84e0f8b9dbb3f23b25b52a1b6f4668170064a049\"", "name": "Authorization"}}, "host": "localhost", "definitions": {"Divisions": {"type": "object", "properties": {"division": {"items": {"$ref": "#/definitions/Division"}, "type": "array"}}}, "SubSubUsage": {"required": ["symbol", "value"], "type": "object", "properties": {"remarks": {"type": "string"}, "symbol": {"type": "string"}, "value": {"type": "string"}}}, "Division": {"required": ["service_uid", "environment", "percent"], "type": "object", "properties": {"environment": {"type": "string"}, "service_uid": {"type": "string"}, "percent": {"type": "number"}}}, "Usage": {"required": ["pricing_service", "date", "usages"], "type": "object", "properties": {"date": {"type": "string"}, "usages": {"items": {"$ref": "#/definitions/SubUsage"}, "type": "array"}, "pricing_service": {"type": "string"}, "overwrite": {"enum": [false, "values_only", "delete_all_previous"], "type": "string"}, "ignore_unknown_services": {"type": "boolean"}}}, "Credentials": {"required": ["username", "password"], "type": "object", "properties": {"username": {"type": "string"}, "password": {"type": "string"}}}, "SubUsage": {"required": ["usages"], "type": "object", "properties": {"environment": {"type": "string"}, "service_uid": {"type": "string"}, "usages": {"items": {"$ref": "#/definitions/SubSubUsage"}, "type": "array"}, "service": {"type": "string"}, "service_id": {"type": "string"}, "pricing_object": {"type": "string"}}}}, "swagger": "2.0"}